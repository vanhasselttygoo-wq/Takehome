<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Cybersecurity Matrix Quiz â€” with Rain</title>
  <style>
    :root {
      --bg:#000000;
      --panel:#0a0a0a;
      --accent:#00ff66;
      --accent2:#00cc44;
      --good:#00ff99;
      --bad:#ff3333;
      --text:#ccffcc;
      --muted:#44aa66;
      --ok:#ccff33;
    }
    * {box-sizing:border-box; font-family:'Consolas','Courier New',monospace;}
    html,body {height:100%;margin:0;padding:0;background:#000;}
    body {
      background:radial-gradient(circle at top left, #001a00, #000);
      color:var(--text);
      display:flex;
      flex-direction:column;
      align-items:center;
      min-height:100vh;
      padding:30px;
      position:relative;
      overflow-x:hidden;
    }

    #matrixCanvas {
      position:fixed;
      inset:0;
      z-index:0;
      pointer-events:none;
      mix-blend-mode:screen;
      opacity:0.85;
    }

    .app {
      position:relative;
      z-index:10;
      max-width:700px;
      width:100%;
      background:rgba(0,0,0,0.45);
      padding:24px;
      border-radius:16px;
      box-shadow:0 0 25px rgba(0,255,100,0.06);
      backdrop-filter: blur(6px);
      border:1px solid rgba(0,255,80,0.06);
    }

    h1 {
      color:var(--accent);
      margin-bottom:10px;
      text-align:center;
      text-shadow:0 0 15px var(--accent);
      letter-spacing:1px;
    }

    .progress-section{text-align:center;margin-top:10px;}
    .progress-text{color:var(--muted);font-size:0.9rem;margin-bottom:4px;}
    .progress-container {
      width:100%;
      background:rgba(0,255,100,0.06);
      border-radius:10px;
      height:10px;
      overflow:hidden;
    }
    .progress-bar {
      height:10px;width:0;
      background:linear-gradient(90deg,var(--accent2),var(--accent));
      transition:width 0.4s ease;
      box-shadow:0 0 10px var(--accent);
    }
    .question {
      font-weight:700;font-size:1.15rem;margin:16px 0;
      color:var(--accent);
      text-shadow:0 0 6px rgba(0,255,102,0.08);
    }
    .choices{display:flex;gap:10px;margin-top:8px;}
    .btn {
      flex:1;padding:12px;border:none;border-radius:10px;font-weight:700;
      cursor:pointer;background:rgba(0,255,80,0.03);color:var(--text);transition:all 0.16s;
      border:1px solid rgba(0,255,100,0.06);
    }
    .btn:hover {background:var(--accent);color:#000;transform:translateY(-2px);box-shadow:0 0 10px var(--accent);}
    .primary {background:linear-gradient(90deg,var(--accent),var(--accent2));color:#000;font-weight:900;box-shadow:0 0 14px rgba(0,255,80,0.5);}
    .feedback {margin-top:14px;min-height:24px;font-weight:600;}
    .correct {color:var(--good);}
    .wrong {color:var(--bad);}
    .footer{text-align:center;margin-top:20px;color:var(--muted);font-size:0.9rem;}
    input{width:100%;padding:8px;border-radius:8px;border:1px solid var(--accent);background:rgba(0,255,80,0.02);color:var(--text);}
    .hidden{display:none;}
    #summary{display:none;text-align:center;margin-top:20px;}
    #summary h2{color:var(--accent);text-shadow:0 0 10px var(--accent);}
    #rating{font-size:1.05rem;margin-top:8px;font-weight:bold;}
    .excellent{color:var(--good);}
    .good{color:var(--ok);}
    .tryagain{color:var(--bad);}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);opacity:1;}}
    .fade-in{animation:fadeIn 0.6s ease-in;}
    @media (max-width:520px){
      .app{padding:16px;border-radius:12px;}
      .question{font-size:1rem;}
    }
  </style>
</head>
<body>
  <canvas id="matrixCanvas"></canvas>

  <div class="app">
    <h1>CYBERSECURITY MATRIX QUIZ</h1>
    <p class="muted" style="text-align:center;color:var(--muted);">Decide if each statement is TRUE or FALSE.</p>

    <div id="namePrompt">
      <h3 style="text-align:center;color:var(--accent);">Enter your hacker alias:</h3>
      <input id="userName" placeholder="Anonymous..." autocomplete="off">
      <button id="startBtn" class="btn primary" style="margin-top:10px;width:100%;">INITIATE QUIZ</button>
    </div>

    <div class="progress-section hidden" id="progressSection">
      <div id="progressText" class="progress-text"></div>
      <div class="progress-container">
        <div id="progressBar" class="progress-bar"></div>
      </div>
    </div>

    <div id="quizArea" class="hidden">
      <div id="question" class="question"></div>
      <div class="choices">
        <button id="btnTrue" class="btn">TRUE</button>
        <button id="btnFalse" class="btn">FALSE</button>
      </div>
      <div id="feedback" class="feedback"></div>
      <div style="text-align:center;margin-top:15px;">
        <button id="nextBtn" class="btn primary" style="display:none;">NEXT âžœ</button>
      </div>
    </div>

    <div id="summary" class="fade-in">
      <h2>QUIZ COMPLETE ðŸ¥·</h2>
      <p id="scoreText"></p>
      <div id="rating"></div>
      <p id="saveStatus" style="margin-top:10px;color:var(--muted);"></p>
      <button id="restartBtn" class="btn primary" style="margin-top:15px;">RESTART</button>
    </div>

    <div class="footer">SYSTEM LOG: results auto-saved to Google Sheet (admin only)</div>
  </div>

  <script>
  // ===== MATRIX RAIN EFFECT =====
  const canvas = document.getElementById("matrixCanvas");
  const ctx = canvas.getContext("2d");
  let width = canvas.width = window.innerWidth;
  let height = canvas.height = window.innerHeight;
  const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*";
  const fontSize = 16;
  const columns = Math.floor(width / fontSize);
  const drops = Array(columns).fill(1);

  function drawMatrix() {
    ctx.fillStyle = "rgba(0,0,0,0.08)";
    ctx.fillRect(0, 0, width, height);
    ctx.fillStyle = "#00ff66";
    ctx.font = fontSize + "px monospace";
    for (let i = 0; i < drops.length; i++) {
      const text = chars.charAt(Math.floor(Math.random() * chars.length));
      ctx.fillText(text, i * fontSize, drops[i] * fontSize);
      if (drops[i] * fontSize > height && Math.random() > 0.975) drops[i] = 0;
      drops[i]++;
    }
  }
  setInterval(drawMatrix, 35);
  window.addEventListener("resize", () => {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
  });

  // ===== QUIZ LOGIC =====
  const quizData = [
    { question: "Using '123456' as a password is secure.", answer: false },
    { question: "Phishing emails often pretend to be from trusted companies.", answer: true },
    { question: "Public Wi-Fi networks can be unsafe for sensitive data.", answer: true },
    { question: "You should share your passwords with coworkers you trust.", answer: false },
    { question: "Antivirus software helps protect against malware.", answer: true },
    { question: "Two-factor authentication adds extra security.", answer: true },
    { question: "Clicking random links is a safe way to test your curiosity.", answer: false },
    { question: "Using unique passwords for every account increases safety.", answer: true },
    { question: "Cybersecurity only matters for big companies.", answer: false },
    { question: "A VPN helps protect your privacy online.", answer: true }
  ];

  let currentQuestion = 0;
  let score = 0;
  let user = "";

  const startBtn = document.getElementById("startBtn");
  const userName = document.getElementById("userName");
  const namePrompt = document.getElementById("namePrompt");
  const quizArea = document.getElementById("quizArea");
  const questionEl = document.getElementById("question");
  const btnTrue = document.getElementById("btnTrue");
  const btnFalse = document.getElementById("btnFalse");
  const feedbackEl = document.getElementById("feedback");
  const nextBtn = document.getElementById("nextBtn");
  const summary = document.getElementById("summary");
  const scoreText = document.getElementById("scoreText");
  const rating = document.getElementById("rating");
  const progressSection = document.getElementById("progressSection");
  const progressBar = document.getElementById("progressBar");
  const progressText = document.getElementById("progressText");
  const restartBtn = document.getElementById("restartBtn");

  startBtn.addEventListener("click", () => {
    user = userName.value.trim() || "Anonymous";
    namePrompt.classList.add("hidden");
    quizArea.classList.remove("hidden");
    progressSection.classList.remove("hidden");
    showQuestion();
  });

  function showQuestion() {
    const q = quizData[currentQuestion];
    questionEl.textContent = `Q${currentQuestion + 1}: ${q.question}`;
    feedbackEl.textContent = "";
    nextBtn.style.display = "none";
    progressText.textContent = `Question ${currentQuestion + 1} of ${quizData.length}`;
    progressBar.style.width = ((currentQuestion / quizData.length) * 100) + "%";
  }

  function handleAnswer(ans) {
    const q = quizData[currentQuestion];
    if (ans === q.answer) {
      feedbackEl.textContent = "Correct!";
      feedbackEl.className = "feedback correct";
      score++;
    } else {
      feedbackEl.textContent = "Wrong!";
      feedbackEl.className = "feedback wrong";
    }
    nextBtn.style.display = "inline-block";
  }

  btnTrue.addEventListener("click", () => handleAnswer(true));
  btnFalse.addEventListener("click", () => handleAnswer(false));

  nextBtn.addEventListener("click", () => {
    currentQuestion++;
    if (currentQuestion < quizData.length) {
      showQuestion();
    } else {
      showSummary();
    }
  });

  function showSummary() {
    quizArea.classList.add("hidden");
    progressSection.classList.add("hidden");
    summary.style.display = "block";
    scoreText.textContent = `${user}, your score is ${score}/${quizData.length}`;
    const percent = (score / quizData.length) * 100;
    if (percent >= 90) rating.textContent = "ðŸ§  Excellent hacker instinct!";
    else if (percent >= 70) rating.textContent = "ðŸ” Good work, security aware!";
    else rating.textContent = "âš ï¸ Needs improvement. Stay vigilant!";
  }

  restartBtn.addEventListener("click", () => {
    summary.style.display = "none";
    currentQuestion = 0;
    score = 0;
    namePrompt.classList.remove("hidden");
  });
  </script>
</body>
</html>
